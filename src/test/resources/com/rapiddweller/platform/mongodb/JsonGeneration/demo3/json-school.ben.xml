<?xml version="1.0" encoding="UTF-8"?>
<setup xmlns="https://www.benerator.de/schema/3.0.0"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="https://www.benerator.de/schema/3.0.0 https://www.benerator.de/schema/benerator-3.0.0.xsd">

    <import domains="person,organization,address" platforms="xml"/>

    <comment>Generating School JSON</comment>
    <!--    Use consumer="new JsonFileExporter(<Path>Ex:"src/test/resources/com/rapiddweller/platform/mongodb/JsonGeneration/demo3/school-result.json")" to export to JSON-->
    <generate type="school" count="1" consumer="ConsoleExporter">
        <!--Declare variable use for attribute-->
        <variable name="address"
                  generator="new AddressGenerator{dataset='DE'}"/>
        <variable name="instructorGen"
                  generator="new PersonGenerator{dataset='DE',locale='de',minAgeYears='30', maxAgeYears='70',femaleQuota='0.5'}"/>
        <variable name="studentGen"
                  generator="new PersonGenerator{dataset='DE',locale='de',minAgeYears='15', maxAgeYears='50',femaleQuota='0.5'}"/>
        <!--Start JSON-->
        <part name="school">
            <attribute name="name" type="string" constant="ABC University"/>
            <part name="location">
                <attribute name="address" type="string" script="address"/>
                <attribute name="city" type="string" script="address.city.name"/>
                <attribute name="state" type="string" script="address.state.name"/>
                <attribute name="zipCode" type="string" script="address.postalCode"/>
                <attribute name="country" type="string" script="address.country.name"/>
            </part>
            <part name="departments" container="list" minCount="3" maxCount="3">
                <attribute name="name" type="string" constant="Computer Science"/>
                <part name="courses" container="list" minCount="2" maxCount="2">
                    <attribute name="code" type="string" generator="UUIDGenerator"/>
                    <attribute name="name" type="string" generator="new RegexStringGenerator{pattern='GES[0-9]{2}', unique='true', minLength='5', maxLength='5'}"/>
                    <part name="instructor" minCount="2" maxCount="2">
                        <part name="name">
                            <attribute name="first" type="string" script="instructorGen.givenName" />
                            <attribute name="last" type="string" script="instructorGen.familyName" />
                        </part>
                        <attribute name="email" type="string" script="instructorGen.email"/>
                        <part name="office">
                            <attribute name="building" type="string" generator="new RegexStringGenerator{pattern='[A-C]{1}[1-9]{2}', minLength='2', maxLength='2'}"/>
                            <attribute name="room" type="int" min="100" max="250"/>
                        </part>
                    </part>
                    <part name="student" container="list" minCount="5" maxCount="5">
                        <attribute name="id" type="string" generator="new RegexStringGenerator{pattern='[A-C]{2}[1-9]{2}', unique='true', minLength='4', maxLength='4'}"/>
                        <part name="name">
                            <attribute name="first" type="string" script="studentGen.givenName" />
                            <attribute name="last" type="string" script="studentGen.familyName" />
                        </part>
                        <attribute name="grade" type="string" generator="new RegexStringGenerator{pattern='[A-F]{1}', minLength='1', maxLength='1'}"/>
                    </part>
                </part>
            </part>
        </part>
    </generate>
</setup>